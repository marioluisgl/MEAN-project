{"version":3,"sources":["field.js"],"names":["mongoose","Query","prototype","field","options","query","filters","test","split","length","forEach","model","schema","path","select","trim"],"mappings":";;;;;;;;;;;eAAe,kBAACA,QAAD,EAAc;AAC5BA,EAAAA,QAAQ,CAACC,KAAT,CAAeC,SAAf,CAAyBC,KAAzB,GAAiC,UAAUC,OAAV,EAAmB;AACnD,QAAIC,KAAK,GAAG,IAAZ;;AAEA,QAAID,OAAO,IAAIA,OAAO,CAACE,OAAnB,IAA8BF,OAAO,CAACE,OAAR,CAAgBH,KAAlD,EAAyD;AACxD,UAAI,OAAOC,OAAO,CAACE,OAAR,CAAgBH,KAAvB,KAAiC,QAAjC,IAA6C,MAAMI,IAAN,CAAWH,OAAO,CAACE,OAAR,CAAgBH,KAA3B,CAAjD,EAAoF;AACnFC,QAAAA,OAAO,CAACE,OAAR,CAAgBH,KAAhB,GAAwBC,OAAO,CAACE,OAAR,CAAgBH,KAAhB,CAAsBK,KAAtB,CAA4B,KAA5B,CAAxB;AACA;;AAED,UAAI,sBAAcJ,OAAO,CAACE,OAAR,CAAgBH,KAA9B,KAAwCC,OAAO,CAACE,OAAR,CAAgBH,KAAhB,CAAsBM,MAAlE,EAA0E;AACzEL,QAAAA,OAAO,CAACE,OAAR,CAAgBH,KAAhB,CAAsBO,OAAtB,CAA8B,UAACP,KAAD,EAAW;AACxC,cAAIE,KAAK,CAACM,KAAN,CAAYC,MAAZ,CAAmBC,IAAnB,CAAwBV,KAAxB,CAAJ,EAAoC;AACnCE,YAAAA,KAAK,CAACS,MAAN,CAAaX,KAAK,CAACY,IAAN,EAAb;AACA;AACD,SAJD;AAKA,OAND,MAMO,IAAIV,KAAK,CAACM,KAAN,CAAYC,MAAZ,CAAmBC,IAAnB,CAAwBT,OAAO,CAACE,OAAR,CAAgBH,KAAxC,CAAJ,EAAoD;AAC1DE,QAAAA,KAAK,CAACS,MAAN,CAAaV,OAAO,CAACE,OAAR,CAAgBH,KAAhB,CAAsBY,IAAtB,EAAb;AACA;AACD;;AAED,WAAOV,KAAP;AACA,GApBD;AAqBA,C","sourcesContent":["export default (mongoose) => {\n\tmongoose.Query.prototype.field = function (options) {\n\t\tlet query = this;\n\n\t\tif (options && options.filters && options.filters.field) {\n\t\t\tif (typeof options.filters.field === 'string' && /\\,/g.test(options.filters.field)) {\n\t\t\t\toptions.filters.field = options.filters.field.split(/\\,/g);\n\t\t\t}\n\n\t\t\tif (Array.isArray(options.filters.field) && options.filters.field.length) {\n\t\t\t\toptions.filters.field.forEach((field) => {\n\t\t\t\t\tif (query.model.schema.path(field)) {\n\t\t\t\t\t\tquery.select(field.trim());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (query.model.schema.path(options.filters.field)) {\n\t\t\t\tquery.select(options.filters.field.trim());\n\t\t\t}\n\t\t}\n\n\t\treturn query;\n\t};\n};\n"],"file":"field.js"}